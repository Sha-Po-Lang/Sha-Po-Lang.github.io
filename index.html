<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes">



  <title>紫微占卦</title>
  <link rel="icon" type="image/x-icon" href="divine.png">
  <link href='https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500&amp;display=swap' rel='stylesheet'/>
  <link rel="stylesheet" href="normalize.min.css">
  <link rel="stylesheet" href="bulma.min.css">

<style>
html {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAACXBIWXMAAA9hAAAPYQGoP6dpAAABe0lEQVR42u3bwYnEMAwFUPebJtJDGk4BRsYmEAn0ct7RzugdgmT/cR0+z+Gj/voZGlQCYP+r7H+t+VPqz/UBVAK4gyf6B9HfRz9A/bk+AAAANAgAAA0CAECDsgEMSibhrgCWZbahXQE0NLc+gBoAXqpZ9QFUAjBY/V8fAAAAGgQAgAYBAKBB2QAGJZNwVwDLMtvQrgAa6kQMgJeqWxEADFZuxgHQIAAANAgAAA0CIB9gUDIJywdYltmGygdoqBMx+QAvVbci5AMMVm7GAQAAAAAAAAAAAJAPMIiZhOUDLONsQ+UDNNSJmHyAl6pbEfIBBis34wAAAAAAAAAAAADIBxjETMLyAZZxtqHyAeo7EZMPUN+tCPkA9d2MA6A+AADqAwCgPgD5APUByAeoD0A+wImYBskHOJTXIPkAF7M0CAAADQIAQIMAANAg+QCTsAbJB9iGapB8gBMxAPIBbkUAkA9wMw4AAAAAAAAAAAAAAPkAkzAA+QDbUACf678b+XWSYmViFAAAAABJRU5ErkJggg==");
}
body {
  font-family: Noto Sans TC, sans-serif;
  margin: 20px;
}
header {
  padding-top: 1rem;
  padding-bottom: 1rem;
}
.header-image svg {
  scale: 0.8;
  max-width: -webkit-fill-available;
  filter: drop-shadow(0 0 15px #000) drop-shadow(0 0 15px #000);
}
.section-header {
  padding-top: 1rem;
  padding-bottom: 3rem;
  text-align: center;
}
.section-header_generate {
  background-color: transparent;
}
h1 {
  font-size: 1.2rem;
  color: #fff;
  text-shadow: 0 0 5px #000, 0 0 5px #000, 0 0 5px #000, 0 0 5px #000;
  text-align: center;
}
h1 a {
  color: #0ff;
  text-shadow: 0 0 20px #000, 0 0 20px #000, 0 0 20px #000, 0 0 20px #000;
}
h1 a:hover {
  color: #ff0;
  text-shadow: 0 0 20px #fff, 0 0 20px #fff;
}
.button.is-rounded {
  padding-top: 3.5rem;
  padding-bottom: 3.5rem;
}
.section-header svg {
  filter: drop-shadow(0 0 15px #fff);
}
.section-header-menu {
  padding-bottom: 1rem;
}
.select select {
  box-shadow: 0 5px 5px #000;
}
.table.is-fullwidth {
  max-width: 500px;
  border-radius: 10px;
  box-shadow: 0 5px 10px #000;
}
.results {
  text-align: -webkit-center;
}
.results .index {
  width: 2rem;
  color: #000;
  text-shadow: 0 0 10px #0cf, 0 0 10px #0cf, 0 0 10px #0cf, 0 0 10px #0cf;
}
.table thead td,
.table thead th:nth-child(1) {
  text-shadow: 0 0 10px #0cf, 0 0 10px #0cf, 0 0 10px #0cf, 0 0 10px #0cf;
}
.table thead td,
.table thead th {
  border-style: groove;
  border-color: #0cf;
  border-width: 0 0 4px 0;
}
.table td,
.table th {
  font-weight: bolder;
  color: #f00;
  border-bottom: 1px dashed #000;
}
.options {
  text-align: -webkit-center;
}
.section-header-option {
  padding-top: 10rem;
  padding-bottom: 1rem;
}
.section-header-option h2 {
  color: #fff;
  text-shadow: 0 0 5px #000, 0 0 5px #000, 0 0 5px #000, 0 0 5px #000;
  font-size: 2rem;
  font-weight: bolder;
}
.options .subject {
  line-height: 200%;
  color: #fdc;
  text-shadow: 0 0 5px #000, 0 0 5px #000, 0 0 5px #000, 0 0 5px #000;
}
.options-item {
  padding: 10px;
  background-color: #c0c0c0;
  border-radius: 10px;
  max-width: 500px;
  width: auto;
  box-shadow: 0 5px 10px #000;
}
.options-item:not(:last-of-type) {
  margin-bottom: 1rem;
}
.options .label.is-small {
  color: #840;
}
.input.is-small,
.textarea.is-small {
  border-radius: 10px;
}
.input,
.textarea {
  border-radius: 10px;
}
.options .button.is-text {
  text-underline-offset: 4px;
}
.options .button.is-text:hover {
  -webkit-animation-name: hoversecond;
          animation-name: hoversecond;
  -webkit-animation-duration: 2s;
          animation-duration: 2s;
}
@-webkit-keyframes hoversecond {
  from {
    text-decoration: none;
    background-color: #000;
    color: #fff;
    border-radius: 10px;
  }
  to {
    background-color: transparent;
    color: #000;
    border-radius: 10px;
  }
}
@keyframes hoversecond {
  from {
    text-decoration: none;
    background-color: #000;
    color: #fff;
    border-radius: 10px;
  }
  to {
    background-color: transparent;
    color: #000;
    border-radius: 10px;
  }
}
.options .field:not(:last-of-type) {
  margin-bottom: 2rem;
}
h1 img {
  box-shadow: 0 0 3px #0ff, 0 0 3px #0ff;
}
.footer-image img {
  filter: drop-shadow(0 0 20px #ff0);
}
div.clickEffect {
  position: fixed;
  box-sizing: border-box;
  border-style: double;
  border-color: #fd0;
  border-radius: 50%;
  -webkit-animation: clickEffect 0.3s ease-out;
  animation: clickEffect 0.3s ease-out;
  z-index: 99999;
}
@-webkit-keyframes clickEffect {
  0% {
    opacity: 1;
    width: 0.5em;
    height: 0.5em;
    margin: -0.25em;
    border-width: 0.5em;
  }
  100% {
    opacity: 0.2;
    width: 15em;
    height: 15em;
    margin: -7.5em;
    border-width: 0.1em;
  }
}
@keyframes clickEffect {
  0% {
    opacity: 1;
    width: 0.5em;
    height: 0.5em;
    margin: -0.25em;
    border-width: 0.5em;
  }
  100% {
    opacity: 0.2;
    width: 15em;
    height: 15em;
    margin: -7.5em;
    border-width: 0.1em;
  }
}
</style>




</head>

<body>
  <header>
<div class="header-image" style="text-align: center;">
<a href="https://sha-po-lang.blogspot.com/">
<svg viewBox="0 0 400 100" xmlns="http://www.w3.org/2000/svg" version="1.1" width="400px" height="100px" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" xmlns:xlink="http://www.w3.org/1999/xlink">
<g><path style="opacity:1" fill="#fedd00" d="M 49.5,52.5 C 59.4055,51.5833 64.2389,55.9167 64,65.5C 59.8493,67.3602 56.516,66.3602 54,62.5C 52.3333,63.1667 50.6667,63.8333 49,64.5C 48.0211,73.1414 47.3544,81.8081 47,90.5C 45.6802,94.1816 43.1802,95.6816 39.5,95C 36.6312,91.7959 33.4646,88.9626 30,86.5C 29.5172,85.552 29.3505,84.552 29.5,83.5C 32.8067,84.0508 36.1401,84.3841 39.5,84.5C 39.9526,78.3172 39.4526,72.3172 38,66.5C 32.8303,69.337 27.3303,70.5037 21.5,70C 19.5356,67.8325 19.2022,65.4992 20.5,63C 25.023,61.1482 29.023,58.4816 32.5,55C 29.5144,55.1276 26.5144,55.1276 23.5,55C 20.242,50.6406 21.242,47.6406 26.5,46C 29.206,43.6294 31.5394,40.9628 33.5,38C 26.0797,39.974 18.7464,42.474 11.5,45.5C 5.82779,45.0237 3.49446,42.1904 4.5,37C 6.52685,36.5022 8.52685,36.6689 10.5,37.5C 11.938,37.2811 13.2713,36.7811 14.5,36C 14.0057,30.2553 13.0057,24.5886 11.5,19C 11.6448,18.228 11.9781,17.5613 12.5,17C 15.9162,16.1067 19.0828,16.6067 22,18.5C 22.1395,21.9812 21.9729,25.4812 21.5,29C 21.8333,30.8333 22.1667,32.6667 22.5,34.5C 23.1667,34.1667 23.8333,33.8333 24.5,33.5C 25.8473,24.1004 25.514,14.7671 23.5,5.5C 26.5788,5.26006 29.5788,5.59339 32.5,6.5C 33.3265,10.4592 33.8265,14.4592 34,18.5C 38.6244,15.5512 42.9578,15.8845 47,19.5C 47.3151,14.1617 47.1484,8.82833 46.5,3.5C 50.0798,2.92278 53.0798,3.92278 55.5,6.5C 55.6449,10.2101 55.6449,13.8768 55.5,17.5C 59.5679,16.1081 63.7346,15.1081 68,14.5C 71.5568,14.3573 74.0568,15.8573 75.5,19C 75.0946,19.9454 74.428,20.6121 73.5,21C 67.2281,22.3484 60.8948,23.1818 54.5,23.5C 53.4409,31.1078 56.7743,34.4411 64.5,33.5C 72.3326,34.0004 76.3326,30.3337 76.5,22.5C 77.9778,22.238 79.3112,22.5713 80.5,23.5C 82.4341,27.7754 83.6008,32.1088 84,36.5C 78.9896,40.7139 73.1562,42.3806 66.5,41.5C 51.8877,43.2324 45.2211,36.8991 46.5,22.5C 42.19,23.0802 37.8566,23.4135 33.5,23.5C 33.5,25.8333 33.5,28.1667 33.5,30.5C 36.7861,29.7929 40.1194,29.4595 43.5,29.5C 44.0352,32.2385 43.0352,34.0718 40.5,35C 43.0867,36.5251 43.9201,38.6917 43,41.5C 39.8333,44 36.6667,46.5 33.5,49C 35.4473,49.9913 37.4473,50.3247 39.5,50C 42.5976,47.572 44.931,44.572 46.5,41C 51.8536,39.342 54.8536,41.342 55.5,47C 53.7177,49.06 51.7177,50.8934 49.5,52.5 Z M 49.5,52.5 C 49.3573,54.2624 49.6906,55.9291 50.5,57.5C 45.9403,59.1795 41.2736,60.0129 36.5,60C 40.5615,56.9711 44.8949,54.4711 49.5,52.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 239.5,4.5 C 244.405,4.42939 248.572,6.09605 252,9.5C 251.123,14.4008 250.289,19.4008 249.5,24.5C 249.833,25.8333 250.167,27.1667 250.5,28.5C 257.33,26.1666 264.33,25.3332 271.5,26C 274.035,26.9282 275.035,28.7615 274.5,31.5C 266.222,32.9097 257.889,33.9097 249.5,34.5C 249.5,40.8333 249.5,47.1667 249.5,53.5C 255.524,53.1158 261.524,52.4491 267.5,51.5C 271.783,51.8083 275.45,53.475 278.5,56.5C 279.485,58.0983 279.651,59.765 279,61.5C 273.843,68.7877 271.676,76.7877 272.5,85.5C 259.783,85.5423 247.116,86.3757 234.5,88C 231.646,91.4854 229.146,91.3187 227,87.5C 225.423,79.8863 224.089,72.2196 223,64.5C 222.03,62.0408 220.863,59.7075 219.5,57.5C 219.712,55.112 221.045,54.112 223.5,54.5C 228.861,55.7269 234.195,55.7269 239.5,54.5C 240.666,42.5139 240.833,30.5139 240,18.5C 239.646,14.8689 238.813,11.3689 237.5,8C 237.862,6.56573 238.528,5.39907 239.5,4.5 Z M 261.5,58.5 C 263.132,58.8247 264.132,59.8247 264.5,61.5C 263.635,67.066 262.635,72.566 261.5,78C 252.525,79.7498 243.525,80.2498 234.5,79.5C 233.703,74.8716 233.036,70.2049 232.5,65.5C 232.833,64.5 233.167,63.5 233.5,62.5C 242.895,60.6613 252.228,59.328 261.5,58.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 329.5,4.5 C 333.584,4.04308 337.417,4.70975 341,6.5C 340.905,11.5445 341.072,16.5445 341.5,21.5C 345.484,20.0928 349.317,20.4262 353,22.5C 353.781,23.9437 353.614,25.277 352.5,26.5C 348.622,28.0087 344.622,29.0087 340.5,29.5C 340.336,32.1873 340.503,34.854 341,37.5C 346.373,35.9035 351.873,35.4035 357.5,36C 360.035,36.9282 361.035,38.7615 360.5,41.5C 352.404,42.0475 344.404,43.2142 336.5,45C 337.872,45.4017 339.205,45.9017 340.5,46.5C 341.318,49.1071 341.818,51.7737 342,54.5C 345.073,53.3832 348.24,53.2165 351.5,54C 353.527,55.3957 353.86,57.0624 352.5,59C 348.586,60.2827 344.586,61.1161 340.5,61.5C 340.5,64.1667 340.5,66.8333 340.5,69.5C 346.275,67.2439 352.275,66.2439 358.5,66.5C 358.714,68.1439 358.38,69.6439 357.5,71C 346.308,74.9507 335.308,79.2841 324.5,84C 316.107,85.988 311.44,82.8213 310.5,74.5C 313.448,74.2229 316.281,74.5562 319,75.5C 323.091,74.2692 327.257,73.2692 331.5,72.5C 331.665,69.1501 331.498,65.8168 331,62.5C 326.881,63.6586 322.714,63.6586 318.5,62.5C 318.286,60.8561 318.62,59.3561 319.5,58C 323.51,57.4987 327.51,56.9987 331.5,56.5C 331.274,52.7076 330.44,49.0409 329,45.5C 323.655,47.3692 318.155,48.2025 312.5,48C 308.872,47.21 306.872,45.0433 306.5,41.5C 314.865,40.746 323.199,39.746 331.5,38.5C 331.5,35.8333 331.5,33.1667 331.5,30.5C 327.486,30.6655 323.486,30.4988 319.5,30C 318.62,28.6439 318.286,27.1439 318.5,25.5C 322.971,25.3108 327.304,24.4775 331.5,23C 330.992,17.5877 329.992,12.2543 328.5,7C 328.743,6.09789 329.077,5.26456 329.5,4.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 361.5,4.5 C 366.002,4.24097 369.835,5.5743 373,8.5C 372.038,17.4354 371.538,26.4354 371.5,35.5C 378.25,36.8722 384.583,39.3722 390.5,43C 393.844,46.1845 395.011,50.0178 394,54.5C 391.123,55.8302 388.289,55.6636 385.5,54C 381,50.1667 376.5,46.3333 372,42.5C 371.667,57.1667 371.333,71.8333 371,86.5C 371.079,91.9346 368.579,94.1012 363.5,93C 361.968,90.3807 360.968,87.5473 360.5,84.5C 362.704,57.8623 363.037,31.1956 361.5,4.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 163.5,8.5 C 168.443,7.96615 171.776,9.96615 173.5,14.5C 170.987,22.5401 167.987,30.3734 164.5,38C 168.56,37.3728 172.56,36.2061 176.5,34.5C 178.942,35.0361 181.275,35.8694 183.5,37C 184.38,38.3561 184.714,39.8561 184.5,41.5C 181.393,41.3512 178.393,41.8512 175.5,43C 175.489,51.7324 174.156,60.3991 171.5,69C 173.154,71.9875 175.487,74.3208 178.5,76C 182.833,78.1667 187.167,80.3333 191.5,82.5C 192.429,83.6888 192.762,85.0222 192.5,86.5C 181.102,90.3946 172.269,87.3946 166,77.5C 158.406,83.1503 149.906,84.9837 140.5,83C 140.717,73.5649 140.384,64.0649 139.5,54.5C 143.287,53.8144 146.454,54.8144 149,57.5C 148.373,61.8239 148.54,66.1573 149.5,70.5C 151.578,68.0136 154.245,67.0136 157.5,67.5C 155.848,71.3437 153.515,74.8437 150.5,78C 155.257,76.5984 158.924,73.5984 161.5,69C 159.865,64.901 157.365,61.401 154,58.5C 153.51,57.2068 153.343,55.8734 153.5,54.5C 155.857,54.3367 158.19,54.5034 160.5,55C 162.359,56.5578 163.859,58.3911 165,60.5C 166.695,55.6325 167.362,50.6325 167,45.5C 166.667,45.1667 166.333,44.8333 166,44.5C 161.638,45.6316 158.138,48.1316 155.5,52C 154.207,52.49 152.873,52.6567 151.5,52.5C 151.719,51.325 151.386,50.325 150.5,49.5C 141.29,52.487 131.957,53.3203 122.5,52C 121.075,50.2859 121.408,48.9525 123.5,48C 130.269,47.1796 136.935,45.8463 143.5,44C 147.203,43.4213 150.869,43.588 154.5,44.5C 159.075,32.8656 162.075,20.8656 163.5,8.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 116.5,9.5 C 119.893,9.06173 122.893,9.89506 125.5,12C 126.576,13.7261 126.743,15.5594 126,17.5C 121.5,26 115,32.5 106.5,37C 104.866,37.4935 103.199,37.6602 101.5,37.5C 101.351,36.448 101.517,35.448 102,34.5C 109.629,27.7237 114.462,19.3904 116.5,9.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 135.5,10.5 C 138.93,10.1065 142.096,10.7732 145,12.5C 144.789,19.1377 144.622,25.8044 144.5,32.5C 145.5,32.5 146.5,32.5 147.5,32.5C 148.704,27.8439 148.704,23.1772 147.5,18.5C 150.93,18.1065 154.096,18.7732 157,20.5C 156.532,27.2985 155.199,33.9652 153,40.5C 149.583,42.1327 147.25,41.1327 146,37.5C 140.492,39.1126 135.159,41.1126 130,43.5C 127.849,43.3569 126.182,42.3569 125,40.5C 123.365,43.6319 121.532,46.6319 119.5,49.5C 120.592,51.1831 121.259,53.0164 121.5,55C 120.407,63.4752 120.24,71.9752 121,80.5C 128.606,73.7519 131.106,65.4186 128.5,55.5C 132.785,54.7496 136.119,56.0829 138.5,59.5C 138.342,68.4942 135.009,75.9942 128.5,82C 126.043,83.5621 123.376,84.5621 120.5,85C 120.043,87.7592 118.543,89.5925 116,90.5C 112.827,88.6833 110.994,85.85 110.5,82C 112.93,73.9902 113.764,65.8235 113,57.5C 108.767,62.9153 103.267,65.9153 96.5,66.5C 98.2895,62.188 101.123,58.5214 105,55.5C 108.834,50.503 112.167,45.1697 115,39.5C 114.932,30.8612 118.432,29.1946 125.5,34.5C 127.612,31.025 127.945,27.3584 126.5,23.5C 129.482,23.1044 132.149,23.7711 134.5,25.5C 135.133,28.557 135.466,31.557 135.5,34.5C 136.632,26.2533 136.632,18.2533 135.5,10.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 51.5,67.5 C 59.4683,67.9005 66.3017,70.9005 72,76.5C 72.6667,79.5 72.6667,82.5 72,85.5C 69.9361,86.5914 67.7695,86.7581 65.5,86C 61.3483,80.8811 56.8483,76.0477 52,71.5C 51.51,70.2068 51.3433,68.8734 51.5,67.5 Z"/></g>
<g><path style="opacity:1" fill="#fedd00" d="M 22.5,71.5 C 26.287,70.8144 29.4537,71.8144 32,74.5C 32.6667,75.5 32.6667,76.5 32,77.5C 27.179,84.1603 20.679,87.4936 12.5,87.5C 13.6076,83.8689 15.7742,80.8689 19,78.5C 20.705,76.4234 21.8717,74.09 22.5,71.5 Z"/></g>
</svg>
</a>
</div>
</header>
<h1>點擊太極圖示取時間參數</h1>
<h1>點擊複製圖示貼給李老師</h1>
<h1>李老師網站：<a href="https://sha-po-lang.blogspot.com/">紫微寰宇誌</a></h1>
<br />
<br />
<div id="app">
  <div class="results">
    <div class="section-header section-header_generate">
      <button class="button is-rounded is-large copy-results is-text" :data-clipboard-text="copyAllResults" title="複製"><span class="icon is-large"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <path fill="#e0e0e0" d="M79.061 26.519 64.523 11.981c-1.066-1.043-2.04-1.545-2.931-1.55H29.948c-.844 0-1.531.682-1.531 1.52v67.151c0 .838.687 1.52 1.531 1.52H79c.844 0 1.531-.682 1.531-1.52V29.45c.007-.893-.455-1.865-1.47-2.931z" style="fill:#ff0;animation-play-state:paused"></path>
            <path fill="#666" d="M65.581 26.519h13.48L64.523 11.981v13.48c0 .583.474 1.058 1.058 1.058z" style="fill:#f9ae5c;animation-play-state:paused"></path>
            <path fill="#323232" d="M65.439 8.203a2.395 2.395 0 0 0-1.702-.703H29.948c-2.46 0-4.462 1.997-4.462 4.451v67.151c0 2.454 2.002 4.451 4.462 4.451H79c2.46 0 4.462-1.997 4.462-4.451v-50.5a5.846 5.846 0 0 0-1.733-4.17L65.439 8.203zm-.916 3.778 14.538 14.538h-13.48a1.059 1.059 0 0 1-1.058-1.058M80.53 79.102c0 .838-.687 1.52-1.531 1.52H29.948a1.527 1.527 0 0 1-1.531-1.52V11.951c0-.838.687-1.52 1.531-1.52h31.643V25.46c0 2.2 1.79 3.99 3.99 3.99H80.53v49.652z" style="fill:#e4812f;animation-play-state:paused"></path>
            <path fill="#e0e0e0" d="M70.113 35.466 55.575 20.928c-1.066-1.043-2.04-1.545-2.931-1.55H21.001c-.844 0-1.531.682-1.531 1.52v67.151c0 .838.687 1.52 1.531 1.52h49.052c.844 0 1.531-.682 1.531-1.52V38.398c.007-.893-.455-1.866-1.471-2.932z" style="fill:#ff0;animation-play-state:paused"></path>
            <path fill="#666" d="M56.634 35.466h13.48L55.575 20.928v13.48a1.06 1.06 0 0 0 1.059 1.058z" style="fill:#f9ae5c;animation-play-state:paused"></path>
            <path fill="#323232" d="M56.492 17.151a2.392 2.392 0 0 0-1.702-.703H21.001c-2.46 0-4.462 1.997-4.462 4.451V88.05c0 2.454 2.002 4.451 4.462 4.451h49.052c2.46 0 4.462-1.997 4.462-4.451v-50.5a5.846 5.846 0 0 0-1.733-4.17l-16.29-16.229zm-.917 3.777 14.538 14.538h-13.48a1.059 1.059 0 0 1-1.058-1.058m16.008 53.641c0 .838-.687 1.52-1.531 1.52H21.001a1.527 1.527 0 0 1-1.531-1.52V20.898c0-.838.687-1.52 1.531-1.52h31.643v15.029c0 2.2 1.79 3.99 3.99 3.99h14.949v49.652z" style="fill:#e4812f;animation-play-state:paused"></path>
          </svg></span></button>
      <button class="button is-rounded is-large is-text" @click.prevent="generateTimes" :data-clipboard-text="copyAllResults" title="再生成"><span class="icon is-large"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250">
            <g class="rotate">
              <defs>
                <filter id="a">
                  <feGaussianBlur stdDeviation="5" />
                </filter>
              </defs>
              <circle cx="125" cy="125" r="116.6" fill="#7f7f7f" filter="url(#a)" opacity=".5" />
              <circle cx="125" cy="125" r="113.2" fill="#fff" />
              <path d="M125 11.8a56.6 56.6 0 0 1 0 113.2 56.6 56.6 0 0 0 0 113.2 113.2 113.2 0 0 0 0-226.4" />
              <circle cx="125" cy="68.4" r="17.6" />
              <circle cx="125" cy="181.6" r="17.6" fill="#fff" />
            </g>
          </svg></span></button>
    </div>
    <div class="section-header-menu">
      <div class="select is-rounded is-large">
        <select v-model="options.sort">
          <option value="random">無排序</option>
          <option value="newest">時間降序</option>
          <option value="oldest">時間升序</option>
        </select>
      </div>
      <div class="select is-rounded is-large">
        <select v-model="options.num">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
        </select>
      </div>
    </div>
    <table class="table is-fullwidth">
      <thead>
        <tr>
          <th>#</th>
          <th>時間序列</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="time, index in results">
          <td class="index">{{ index + 1 }}</td>
          <td>{{ time }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="options">
    <div class="section-header-option">
      <h2>- 詳細設定 -</h2>
    </div>
    <div class="field">
      <label class="subject">時間起迄</label>
      <div class="options-item">
        <div class="columns is-mobile is-variable is-1">
          <div class="column">
            <div class="input-date">
              <label class="label is-small">START</label>
              <input class="input is-small" placeholder="YYYY/MM/DD HH:mm:ss" v-model="options.range.start" :class="{ 'is-danger': range.start.isValid === false }" />
            </div>
          </div>
          <div class="column">
            <div class="input-date">
              <label class="label is-small">END</label>
              <input class="input is-small" placeholder="YYYY/MM/DD HH:mm:ss" v-model="options.range.end" :class="{ 'is-danger': range.end.isValid === false }" />
            </div>
          </div>
        </div>
        <ul class="help">
          <li><a class="button is-text is-small" @click.prevent="changeRange('divine')">占卦預設</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeRange('today')">本日</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeRange('this week')">本週</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeRange('this month')">本月</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeRange('this quarter')">本季</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeRange('this year')">本年度</a></li>
        </ul>
      </div>
    </div>
    <div class="field">
      <label class="subject">時間格式</label>
      <div class="options-item">
        <input class="input" type="text" placeholder="YYYY/MM/DD HH:mm:ss" v-model="options.format" />
        <ul class="help">
          <li><a class="button is-text is-small" @click.prevent="changeFormat('YYYY/MM/DD HH:mm:ss')">1980/03/27 17:34:56</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('YYYY/MM/DD HH:mm')">1980/03/27 17:34</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('YYYY/MM/DD')">1980/03/27</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('HH:mm:ss')">17:34:56</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('HH:mm')">17:34</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('YYYY/MM/DD (ddd) HH:mm:ss')">1980/03/27 (Thu) 17:34:56</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('dddd, MMMM Do YYYY, h:mm:ss a')">Thursday, March 27th 1980, 5:34:56 pm</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('H:mm:ss.SSS')">17:34:56.012</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('X')">Unix Timestamp</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('x')">Unix Millisecond Timestamp</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('Qo')">Quarter</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('DDDo')">Day of Year</a></li>
          <li><a class="button is-text is-small" @click.prevent="changeFormat('Wo')">Week of Year</a></li>
        </ul>
      </div>
    </div>
    <div class="field">
      <label class="subject">排除以下時間</label>
      <div class="options-item">
        <div class="columns is-mobile is-variable is-1" v-for="(item, index) in options.not">
          <div class="column">
            <div class="input-date">
              <label class="label is-small">START</label>
              <input class="input is-small" placeholder="YYYY/MM/DD or HH:mm:ss" v-model="item.start" :class="{ 'is-danger': not[index].isInput &amp;&amp; not[index].isValid === false }" />
            </div>
          </div>
          <div class="column">
            <div class="input-date">
              <label class="label is-small">END</label>
              <input class="input is-small" placeholder="YYYY/MM/DD or HH:mm:ss" v-model="item.end" :class="{ 'is-danger': not[index].isInput &amp;&amp; not[index].isValid === false }" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<br />
<br />
<h1>☞ 本網頁程序製作採用：<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode.zh-hant">創用 CC 姓名標示-非商業性-禁止改作</a> 授權條款，盜用必究</h1>
<br />
<h1><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhQmzcsTIbBjb1VHPMJuwHCc0RTgROVJS9rsNIDpQ3B3iHB-NvZrn3Vi6fl8HIlxc7owBT6o__GUHf4sanvzkmNIHsBIxJazb0JTigjmaQ_I6kS0O1CaNbN2Yi7GV5Q5lhyphenhyphen-mrei7EVJrwGsObs9Db4gMg28fDG_1RmnBxWQLsSdAmFqrkVwYb5yRTVo0o/s1600/BY-NC-ND.png" alt="創用 CC 授權條款" /></h1>
<br />
<div class="footer-image" style="text-align: center;">
<a href="https://sha-po-lang.blogspot.com/">
<img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi1EKK65iMnXOiKyXWZk-yZBIzUc2m63f7Ty_ux4USsnsEie78pdKSWJOvg5VoRPm544GImmUaGgSQ2xx3P0wrAYRzyV1Lkd15YON6l5HIW7Zzr38BsvLZGA70-qBj_A__zdcpRJQCdb-Yfd1vAzgPH-BqgmXUOn2wB8oixm-aNaN0lc5C4uMb14LpeuEY/s1600/ZiweiUniverseStamp.png" alt="紫微斗數" />
</div>
<script src='moment.min.js'></script>
<script src='vue.min.js'></script>
<script src='lodash.min.js'></script>
<script src='clipboard.min.js'></script>
<script src='tweenmax.js'></script>
      <script id="rendered-js" >
// デフォルトの範囲設定
const end = moment();
const start = end.subtract(1, 'years');

// 時間、日付の正規表現
const timeFormat = new RegExp(/^\s*\d{1,2}\s*:\s*\d{1,2}\s*[\.|:]?\d+$/);
const dateFormat = new RegExp(/^\s*\d{1,2}\s*\/\s*\d{1,2}$/);

// TODO optionsをcookieに保存する？
// TODO 含まない期間を指定できるようにする（複数のstart, end）
// 時間だけのとき、期間のときがある

const state = {
    times: [],  // 生成した年月日

    // 設定（入力 or 選択される）
    options: {
        num: 1,
        sort: 'random',
        format: 'YYYY/MM/DD HH:mm:ss',
        range: {
            // とりあえず今年にしておく
            start: moment([1900]).startOf('year').format('YYYY/M/D'),
            end: moment([2000]).endOf('year').format('YYYY/M/D')
        },
        // 結果から除外する日時
        not: [
            {start: null, end: null},
            {start: null, end: null},
            {start: null, end: null}
        ]
    }
};


/**
 * 有効な範囲を取得する
 *
 * @param range { start: number, end: number } 日時の範囲
 * @param not { start: number, end: number }[] 含めない範囲
 * @return { start: number, end: number }[] 有効な範囲のリスト
 */
function effectiveRange(range, not) {
    let results = [
        {start: range.start, end: range.end}
    ];

    // notの範囲を削除していく
    // notは昇順になっているのが前提
    not.forEach((notItem) => {
        for (let i = 0, len = results.length; i < len; i++) {
            let result = results[i];

            if (result !== null) {
                if (notItem.start <= result.start && result.end <= notItem.end) {
                    // すべての範囲がnot
                    // 削除
                    results[i] = null;
                } else if (notItem.start <= result.start && result.start <= notItem.end) {
                    // 前半がnot
                    // notで分割する
                    results[i] = {
                        start: notItem.end + 1,
                        end: result.end
                    };
                } else if (notItem.start <= result.end && result.end <= notItem.end) {
                    // 後半がnot
                    results[i] = {
                        start: result.start,
                        end: notItem.start - 1
                    };
                } else if (result.start <= notItem.start && notItem.end <= result.end) {
                    // 途中がnot

                    // 分割する
                    results[i] = {
                        start: result.start,
                        end: notItem.start - 1
                    };

                    const div = {
                        start: notItem.end + 1,
                        end: result.end
                    };

                    results.splice(i + 1, 0, div);
                }
            }
        }
    });

    // console.log('effective range', results);

    // nullの要素を削除する
    return _.compact(results);
}


/**
 * 指定の時間がnotに含まれているかを判別
 *
 * @param time {number} 時間（ミリ秒）
 * @param notTimes {{ start: number, end: number, isCrossOverDay: boolean }} Notの時間（ミリ秒）
 * @param {boolean} Notに含まれているか
 */
function isNotTime(time, notTimes) {
    let result = false;
    const len = notTimes.length;

    for (let i = 0; i < len; i++) {
        const item = notTimes[i];

        if (item.isCrossOverDay === false) {
            if (item.start <= time && time <= item.end) {
                // Notに含まれている
                result = true;
                break;
            }
        } else {
            // 0:00をまたぐ場合
            if ((item.start <= time && time < 86400000) || time <= item.end) {
                // Notに含まれている
                result = true;
                break;
            }
        }
    }

    return result;
}


new Vue({
    el: '#app',
    data: state,

    created: function () {
        this.generateTimes();
    },

    methods: {

        /**
         * 年月日を生成する
         *
         */
        generateTimes: function () {
            const times = [];

            // console.log('start', this.range.start, moment(this.range.start.date, 'x').format('YYYY/M/D HH:mm:ss'), 'end', this.range.end, moment(this.range.end.date, 'x').format('YYYY/M/D HH:mm:ss'));

            // 有効なRange（Range内の日時からNotを取り除いた）をリストにする
            // Notの種類が期間（'period'）のものを省く

            // 含まない期間を選択
            const notDates = this.not.filter((item) => {
                return item.type === 'period' ? {start: item.start, end: item.end} : false;
            });

            // 含まない時間を抽出して、比較しやすいフォーマットに変換する
            const notTimes = this.not.filter((item) => item.type === 'interval').map((item) => {
                const startTime = item.start.split(':');
                const endTime = item.end.split(':');
                const weight = [60 * 60 * 1000, 60 * 1000, 1000]; // ミリ秒に変換するため時間

                // HH:mm:ddをミリ秒に変換
                const start = startTime.map((item, index) => item * weight[index]).reduce((prev, current) => prev + current);
                const end = endTime.map((item, index) => item * weight[index]).reduce((prev, current) => prev + current);

                return {
                    start,
                    end,
                    isCrossOverDay: end < start // 日をまたぐか（23:00 - 5:00のような場合）
                };
            });

            // {
            //   type: "date"
            //   isInput: true
            //   isValid: true
            //   start: 1514736072
            //   end: 1514769000
            // }

            // Notを省いた期間のリストを生成
            const rangeGroup = effectiveRange({
                start: this.range.start.date,
                end: this.range.end.date
            }, notDates);
            const numRangeGroup = rangeGroup.length; // 期間のグループ数


            // 表示の最大件数分つくっておく
            // 件数やフォーマットを変えたときに再生成させないため
            for (let i = 0; i < 500; i++) {
                const hit = _.random(numRangeGroup - 1);  // どのグループから選ぶか

                let generated = null;

                while (generated === null) {
                    // for (let j = 0; j < 10; j++) {
                    generated = moment(_.random(rangeGroup[hit].start, rangeGroup[hit].end, false), 'x');

                    // Notの時間だったら作り直す
                    const time = Number(generated.format('H')) * 60 * 60 * 1000
                        + Number(generated.format('m')) * 60 * 1000
                        + Number(generated.format('s')) * 1000;

                    const result = isNotTime(time, notTimes);

                    // console.log(time, generated.format('H:m:s'), result);

                    // 含めない時間 or 不正な日付だったら作り直す
                    // Notに日付をまたぐ時間を指定したときに、invalidな日時になることがある？
                    if (result === true || generated.isValid() === false) {
                        generated = null;
                    }
                }

                times.push(generated);
            }

            this.times = times;
        },

        changeFormat: function (format) {
            this.options.format = format;
        },

        /**
         * 範囲プリセットから変更する
         *
         * @param label {string} プリセット名
         */
        changeRange: function (label) {
            switch (label) {
                case 'divine': // 占卦預設
                    this.options.range.start = moment([1900]).startOf('year').format('YYYY/M/D');
                    this.options.range.end = moment([2000]).endOf('year').format('YYYY/M/D');
                    break;

                case 'today': // 本日
                    this.options.range.start = moment().startOf('date').format('YYYY/M/D');
                    this.options.range.end = moment().endOf('date').format('YYYY/M/D');
                    break;

                case 'this week': // 本週
                    this.options.range.start = moment().startOf('week').format('YYYY/M/D');
                    this.options.range.end = moment().endOf('week').format('YYYY/M/D');
                    break;

                case 'this month':  // 本月
                    this.options.range.start = moment().startOf('month').format('YYYY/M/D');
                    this.options.range.end = moment().endOf('month').format('YYYY/M/D');
                    break;

                case 'this quarter':  // 本季
                    this.options.range.start = moment().startOf('quarter').format('YYYY/M/D');
                    this.options.range.end = moment().endOf('quarter').format('YYYY/M/D');
                    break;

                case 'this year':  // 本年度
                    this.options.range.start = moment().startOf('year').format('YYYY/M/D');
                    this.options.range.end = moment().endOf('year').format('YYYY/M/D');
                    break;
            }
        }
    },

    computed: {

        /**
         * 表示するための時間を生成
         *
         */
        results: function () {
            const tmp = _.cloneDeep(this.times);	// Vueのレンダリングでvueインスタンス？になるのを防ぐため、複製しておく

            // 件数分を指定の時間フォーマットにする
            const items = tmp.filter((time, index) => index < this.options.num).sort((dateA, dateB) => {
                let result = 0;	// 結果

                const timeA = Number(dateA.valueOf());
                const timeB = Number(dateB.valueOf());

                // 並び替え
                if (this.options.sort === 'newest') {
                    // 新しい順
                    if (timeA < timeB) {
                        result = 1;
                    } else if (timeA > timeB) {
                        result = -1;
                    }
                } else if (this.options.sort === 'oldest') {
                    // 古い順
                    if (timeA > timeB) {
                        result = 1;
                    } else if (timeA < timeB) {
                        result = -1;
                    }
                }

                return result;
            });

            // ソート順を反映する
            return items.map(time => moment(time).format(this.options.format));
        },

        /**
         * 期間の範囲を指定する
         *
         */
        range: function () {
            const start = moment(this.options.range.start);
            const end = moment(this.options.range.end);

            // endは日付指定のみ（時間未指定）の場合、その日いっぱいを含む
            if (end.isValid() && this.options.range.end.match(/^(\d{2,4}\s*\/)?\s*\d{1,2}\s*\/\s*\d{1,2}$/)) {
                end.endOf('day');
            }

            // 入力された時間の範囲をミリ秒に変換する
            // エラーだった場合は、
            return {
                start: {
                    date: start.isValid() ? Number(start.format('x')) : Number(moment().startOf('day').format('x')),
                    isValid: start.isValid()
                },
                end: {
                    date: end.isValid() ? Number(end.format('x')) : Number(moment().endOf('day').format('x')),
                    isValid: end.isValid()
                }
            }
        },

        /**
         * 除外する期間、時間を計算する
         *
         */
        not: function () {
            const result = this.options.not.map((item) => {
                // 入力された日時を補完する
                // 文字列からフォーマットを推測する
                // 開始、終了のどちらかが未入力なら、それ以前、それ以降と判定する
                // 日時がおかしい or フォーマットが不明な場合は無効にする

                let start = item.start; // 除外開始日時
                let end = item.end; // 除外終了日時
                const startDate = moment(item.start);
                let endDate = moment(item.end);

                // 日時 or 時間のみを判定する

                // 書式から判定する
                let type = null;
                let isValid = true;
                let isInput = false;

                // console.log(startDate.format('YYYY/M/D H:mm:ss.SSS'));
                // console.log(endDate.format('YYYY/M/D H:mm:ss.SSS'));

                if (item.start !== null && item.start !== '' && item.end !== null && item.end !== '') {
                    isInput = true;

                    // console.log('---');
                    // console.log(item.start.match(timeFormat), item.end.match(timeFormat));
                    // console.log(startDate.isValid(), endDate.isValid());
                    // console.log(startDate.isValid(), item.end.match(timeFormat));

                    if (item.start.match(timeFormat) && item.end.match(timeFormat)) {
                        // start, endが時間
                        type = 'interval';
                        start = item.start;
                        end = item.end;
                    } else if (startDate.isValid() && endDate.isValid()) {
                        // start, endが日時
                        type = 'period';

                        // 開始と終了をミリ秒で保持
                        start = Number(startDate.format('x'));
                        end = Number(endDate.endOf('day').format('x'));  // その日いっぱいをNotにする

                        if (start >= end) {
                            isValid = false;
                        }
                    } else if (startDate.isValid() && item.end.match(timeFormat)) {
                        // startが日時、endが時間
                        // ex. 2018/1/1, 12:34
                        type = 'period';

                        // 開始と終了をミリ秒で保持
                        start = Number(startDate.format('x'));
                        // end = // 終了時間を計算する
                        endDate = startDate.clone();

                        // startDateとendを組み合わせて、終了時間を生成する
                        // →時間だけ反映する
                        const endTime = end.split(/:|\./i).map((num) => Number(num));
                        endDate.hours(endTime[0] | 0);
                        endDate.minutes(endTime[1] | 0);
                        endDate.seconds(endTime[2] | 0);
                        endDate.milliseconds(endTime[3] | 0);

                        end = Number(endDate.format('x'));

                        if (start >= end) {
                            isValid = false;
                        }
                    } else if (startDate.isValid() && item.end.match(dateFormat)) {
                        // startが日時、endが日付
                        // ex. 2018/1/1, 1/10
                        type = 'period';

                        // 開始と終了をミリ秒で保持
                        start = Number(startDate.format('x'));
                        // end = // 終了時間を計算する
                        end = Number(moment(`${startDate.format('YYYY')}/${item.end}`).endOf('day').format('x')); // その日いっぱいをNotにする

                        if (start >= end) {
                            isValid = false;
                        }
                    } else {
                        isValid = false;
                    }
                }

                // console.log('type', type, 'isValid', isValid, 'start', start, 'end', end);

                return {
                    start,
                    end,
                    type,
                    isValid,
                    isInput
                };
            });

            // console.log('not', result);

            return result;
        },

        /**
         * 結果をコピーできる文字列を取得
         *
         */
        copyAllResults: function () {
            return this.results.join('\n');
        }
    },

    watch: {
        // 範囲が変更されたら生成しなおす
        'range.start.date': function () {
            this.generateTimes();
        },

        // 範囲が変更されたら生成しなおす
        'range.end.date': function () {
            this.generateTimes();
        },

        // 除く日時が更新されたら生成しなおす
        'not': function () {
            this.generateTimes();
        }
    }
});

new ClipboardJS('.copy-results');

// 太極符號旋轉特效
TweenMax.to(".rotate", 4, {rotation:360, repeat:-1, transformOrigin:"50% 50%", ease:Linear.easeNone})

// 網頁點擊特效
function clickEffect(e){var d=document.createElement("div");d.className="clickEffect";d.style.top=e.clientY+"px";d.style.left=e.clientX+"px";document.body.appendChild(d);d.addEventListener('animationend',function(){d.parentElement.removeChild(d);}.bind(this));}document.addEventListener('click',clickEffect);
    </script>


</body>

</html>
